<md-toolbar color="primary">
  Calendarios y tareas
</md-toolbar>

<div id="schedule-list-container">
  <div id="schedule-list-panel">
    <p-dataList [value]='scheduleLists'>
      <p-header>Lista calendarios</p-header>
      <ng-template
        let-scheduleList
        let-i='index'
        pTemplate="item"
      >
        <div
          class="schedule-list-container"
          [ngClass]="{selected: selectedListId === scheduleList.id}"
          (click)='setSelectedList(scheduleList)'
        >
          <div *ngIf="scheduleList.id !== ''; else showAll">
            <div class="name">
              <b>Nombre:</b> {{ scheduleList.name }}
            </div>
            <div class="isListActive">
              <b>Activo:</b> {{ scheduleList.active }}
            </div>
          </div>
          <ng-template #showAll>
            <div class="name">
              <b>{{ scheduleList.name }}</b>
            </div>
          </ng-template>
        </div>
      </ng-template>
    </p-dataList>
  </div>
  <div id="schedule-item-panel">
    <p-dataList [value]='taskLists'>
      <p-header>Lista tareas</p-header>
    </p-dataList>
  </div>
  <div id="schedule-queue-panel">
    <p-dataList [value]='taskQueue'>
      <p-header>Cola tareas</p-header>
    </p-dataList>
  </div>
</div>

<button (click)='toogleNewListDialog(true)'>
  addItem
</button>

<p-dialog
  header='Nueva lista de calendarios'
  [modal]='true'
  [closable]='true'
  [dismissableMask]='false'
  [visible]="newListDialogState | async"
  (visibleChange)="toogleNewListDialog($event)">

  <p-inputSwitch [(ngModel)]="isValid"></p-inputSwitch>
  <p-footer>
    <button pButton
      label='Crear'
      type="button"
      icon='fa-check'
      class="ui-button-success"
      (click)="sendNewListDialog()"
    ></button>
    <button pButton
      label='Cancelar'
      type="button"
      icon='fa-times'
      class="ui-button-danger"
      (click)="toogleNewListDialog(false)"
    ></button>
  </p-footer>
</p-dialog>

